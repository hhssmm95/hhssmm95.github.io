---
layout: post
title: 게임 서버 기초 1.1 : 멀티 쓰레드 개론
date: 2025-01-20 19:35 +0900
categories: [GameServer]
tags : [GameServer]
---

# 멀티 쓰레드 개론

 

## 프로세스 (Process)

- 실행중인 프로그램
- 운영체제의 작업 단위



## 쓰레드 (Thread)

- CPU 제어의 흐름

- 실질적인 실행 단위

  

컴퓨터에서 작업하는 흐름의 단위를 쓰레드(Thread)라고 부르며, 이러한 쓰레드를 다중 배치하여 CPU로 하여금 병렬적으로 다중 작업을 지시하기 위한 프로그래밍 방식이 '멀티쓰레드 프로그래밍' 이다.

CPU의 단일 코어는 한번에 한 스레드의 작업밖에 처리할 수 없기 때문에,  실제로 동시에 처리되는 작업의 개수는 코어의 개수와 일치한다.

코어의 개수와 별개로, 다중 작업을 하는 것처럼 보이는 것은 빠른 속도로 여러 프로세스를 왔다갔다 하기 때문이다. (CPU 스케줄링)

 

## 서버와 쓰레드

MMO 서버에서는 실시간으로 클라이언트와 상호작용 하여 다양한 종류의 작업을 빠르게 수행해야 하므로, 멀티 쓰레드 프로그래밍이 필수적이다. 

이 과정에서 단일 코어는 한번에 한 쓰레드만 작업할 수 있다는 점을 고려하여, 프로세스에 CPU 코어 수 만큼의 쓰레드를 배치하여 작업시키는 것이 가장 이상적이다.

 

## 쓰레드와 메모리

![](C:\Users\gram\Pictures\Process_memory.png)

한 프로세스 내에 여러 스레드를 배치할 수 있으며, 프로세스 내에서 생성된 쓰레드들은 프로세스가 할당받은 메모리 내에서 각자의 새로운 스택 영역을 가진다.

같은 프로세스 내에서 생성된 쓰레드들은 프로세스의 Heap 영역과 데이터 영역을 함께 공유한다.

하지만 이러한 영역의 데이터를 공유하는 과정에서 서로 다른 쓰레드들이 동시 접근하면서 발생하는 문제를 방지해야한다.
